var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var humanContainer = new render.DisplayObjectContainer();
var body2 = new render.Bitmap();
var head = new render.Bitmap();
var rightharm = new render.Bitmap();
var leftharm = new render.Bitmap();
var rightleg = new render.Bitmap();
var leftleg = new render.Bitmap();
body2.source = "body.jpg";
head.source = "head.jpg";
rightharm.source = "right_harm.jpg";
leftharm.source = "left_harm.jpg";
rightleg.source = "right_leg.jpg";
leftleg.source = "left_leg.jpg";
humanContainer.addChild(head);
humanContainer.addChild(body2);
humanContainer.addChild(rightharm);
humanContainer.addChild(leftharm);
humanContainer.addChild(rightleg);
humanContainer.addChild(leftleg);
body2.x = 50;
body2.y = 130;
head.x = 57;
head.y = 100;
rightharm.x = 45;
rightharm.y = 130;
leftharm.x = 90;
leftharm.y = 132;
rightleg.x = 50;
rightleg.y = 210;
leftleg.x = 80;
leftleg.y = 210;
var renderCore = new render.RenderCore();
renderCore.start(humanContainer, ["body.jpg", "head.jpg", "right_harm.jpg", "left_harm.jpg", "right_leg.jpg", "left_leg.jpg"]);
var HumanBody = (function (_super) {
    __extends(HumanBody, _super);
    function HumanBody() {
        _super.apply(this, arguments);
        this.vx1 = 5;
        this.vx2 = this.vx1;
        this.vy1 = 5;
        this.vy2 = this.vy1;
        this.stay = false;
        this.rotate1 = 1;
        this.rotate2 = this.rotate1;
    }
    HumanBody.prototype.onTicker = function (duringTime) {
        this.x += this.vx1 * duringTime;
        this.y += this.vy1 * duringTime;
        this.rotation += Math.PI * duringTime;
    };
    return HumanBody;
}(Body));
var ticker = new Ticker();
var body = new HumanBody(humanContainer);
ticker.start([body]);
var eventCore = new events.EventCore();
eventCore.init();
var headHitTest = function (localPoint, displayObject) {
    //alert (`点击位置为${localPoint.x},${localPoint.y}`);
    if (localPoint.x > 0 && localPoint.x < 28 && localPoint.y > 0 && localPoint.y < 50) {
        return true;
    }
};
var headOnClick = function () {
    //alert("clicked!!");
    //修改 HumanBody 的速度，使其反向移动
    if (!body.stay) {
        body.rotate1 = -body.rotate2;
    }
    else {
        body.rotate1 = body.rotate2;
        body.vx1 = body.vx2;
        body.vy1 = body.vy2;
        body.stay = false;
    }
};
var legHitTest = function (localPoint, displayObject) {
    if (localPoint.x > 0 && localPoint.x < 15 && localPoint.y > 0 && localPoint.y < 70) {
        return true;
    }
};
var legOnClick = function () {
    body.rotate1 = 0;
    body.vx1 = 0;
    body.vy1 = 0;
    body.stay = true;
};
eventCore.register(head, headHitTest, headOnClick);
eventCore.register(leftleg, legHitTest, legOnClick);
eventCore.register(rightleg, legHitTest, legOnClick);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxJQUFJLGNBQWMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQ3pELElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2hDLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQy9CLElBQUksU0FBUyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ3BDLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ25DLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ25DLElBQUksT0FBTyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBR2xDLEtBQUssQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO0FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsVUFBVSxDQUFDO0FBQ3pCLFNBQVMsQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUM7QUFDcEMsUUFBUSxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUM7QUFDbEMsUUFBUSxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUM7QUFDbEMsT0FBTyxDQUFDLE1BQU0sR0FBRyxjQUFjLENBQUM7QUFFaEMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QixjQUFjLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQy9CLGNBQWMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbkMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNsQyxjQUFjLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ2xDLGNBQWMsQ0FBQyxRQUFRLENB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